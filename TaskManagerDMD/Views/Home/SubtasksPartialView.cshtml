@model IEnumerable<TaskManagerDMD.Models.TmTask>
<!--Список подзадач-->
@if (Model.Count() > 0)
{    
    <ul class="list-group">
        @foreach (var task in Model)
        {
            <li class="list-group-item">
                <h4>@ViewData["TaskName"]: @task.TaskName</h4>

                @if (task.PlannedDurationSubtasks == 0)
                {
                <h5>@ViewData["PlannedDuration"]: @Math.Round(TimeSpan.FromTicks(task.PlannedDuration).TotalDays) @ViewData["Days"]</h5>
                }
                else
                {
                    <h5>
                        @ViewData["PlannedDuration"]: @Math.Round(TimeSpan.FromTicks(task.PlannedDurationSum).TotalDays) @ViewData["Days"] =
                        @Math.Round(TimeSpan.FromTicks(task.PlannedDuration).TotalDays) @ViewData["Days"] +
                        @Math.Round(TimeSpan.FromTicks(task.PlannedDurationSubtasks).TotalDays) @ViewData["Days_Subtasks"]
                    </h5>
                }


                @if (task.ActualDurationSubtasks == 0)
                {
                    <h5>@ViewData["ActualDuration"]: @Math.Round(TimeSpan.FromTicks(task.ActualDuration).TotalDays) @ViewData["Days"]</h5>
                }
                else
                {
                    <h5>
                        @ViewData["ActualDuration"]: @Math.Round(TimeSpan.FromTicks(task.ActualDurationSum).TotalDays) @ViewData["Days"] =
                        @Math.Round(TimeSpan.FromTicks(task.ActualDuration).TotalDays) @ViewData["Days"] +
                        @Math.Round(TimeSpan.FromTicks(task.ActualDurationSubtasks).TotalDays) @ViewData["Days_Subtasks"]
                    </h5>
                }
                
                    <h4>@ViewData["TaskDescription"]: @task.TaskDescription</h4>

            </li>
            }
</ul>

}
else
{    
    <p>@ViewData["NoSubtasks_Index"]</p>
}

