@model IEnumerable<TaskManagerDMD.Models.TmTask>
<!--Список подзадач-->
@if (Model.Count() > 0)
{    
    <ul class="list-group">
        @foreach (var task in Model)
        {
            <li class="list-group-item">
                <h4>@ViewData["TaskName"]: @task.TaskName</h4>

                @if (task.PlannedDurationSubtasks == 0)
                {
                    <h5>@ViewData["PlannedDuration"]: @Math.Round(TimeSpan.FromTicks(task.PlannedDuration).TotalHours) ч</h5>
                }
                else
                {
                    <h5>
                        @ViewData["PlannedDuration"]: @Math.Round(TimeSpan.FromTicks(task.PlannedDurationSum).TotalHours) ч =
                        @Math.Round(TimeSpan.FromTicks(task.PlannedDuration).TotalHours) ч +
                        @Math.Round(TimeSpan.FromTicks(task.PlannedDurationSubtasks).TotalHours) ч (подзадачи)
                    </h5>
                }


                @if (task.ActualDurationSubtasks == 0)
                {
                    <h5>@ViewData["ActualDuration"]: @Math.Round(TimeSpan.FromTicks(task.ActualDuration).TotalHours) ч</h5>
                }
                else
                {
                    <h5>
                        @ViewData["ActualDuration"]: @Math.Round(TimeSpan.FromTicks(task.ActualDurationSum).TotalHours) ч =
                        @Math.Round(TimeSpan.FromTicks(task.ActualDuration).TotalHours) ч +
                        @Math.Round(TimeSpan.FromTicks(task.ActualDurationSubtasks).TotalHours) ч (подзадачи)
                    </h5>
                }
                
                    <h4>@ViewData["TaskDescription"]: @task.TaskDescription</h4>

            </li>
            }
</ul>

}
else
{    
    <p>Нет подзадач</p>
}

